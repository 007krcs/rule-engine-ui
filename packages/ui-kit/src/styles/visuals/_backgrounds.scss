@layer base {
  .rf-app-shell,
  .rf-builder-workspace,
  .rf-theme-studio-preview {
    position: relative;
    isolation: isolate;
    background-color: var(--pf-bg-0);
    background-image:
      radial-gradient(circle at var(--pf-light-x, 18%) var(--pf-light-y, 12%), var(--pf-bg-highlight), transparent 45%),
      radial-gradient(circle at 86% 92%, var(--pf-bg-shadow), transparent 60%),
      linear-gradient(160deg, var(--pf-bg-1), var(--pf-bg-2));
    background-image:
      radial-gradient(circle at var(--pf-light-x, 18%) var(--pf-light-y, 12%), color-mix(in srgb, var(--pf-bg-highlight) 88%, transparent), transparent 45%),
      radial-gradient(circle at 86% 92%, color-mix(in srgb, var(--pf-bg-shadow) 72%, transparent), transparent 60%),
      linear-gradient(160deg, var(--pf-bg-1), var(--pf-bg-2));
  }

  .rf-app-shell::after,
  .rf-builder-workspace::after,
  .rf-theme-studio-preview::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: var(--pf-noise-opacity, 0.03);
    background-image:
      radial-gradient(circle at 1px 1px, rgb(255 255 255 / 40%) 1px, transparent 0),
      radial-gradient(circle at 2px 2px, rgb(0 0 0 / 26%) 1px, transparent 0);
    background-size: 9px 9px, 13px 13px;
    mix-blend-mode: soft-light;
    z-index: 0;
  }

  [data-visual='flat'] .rf-app-shell,
  [data-visual='flat'] .rf-builder-workspace,
  [data-visual='flat'] .rf-theme-studio-preview {
    background-color: var(--pf-bg-1);
    background-image: linear-gradient(180deg, var(--pf-bg-1), var(--pf-bg-2));
  }

  [data-visual='flat'] .rf-app-shell::after,
  [data-visual='flat'] .rf-builder-workspace::after,
  [data-visual='flat'] .rf-theme-studio-preview::after {
    opacity: 0;
  }

  [data-visual='3d'] .rf-app-shell,
  [data-visual='3d'] .rf-builder-workspace,
  [data-visual='3d'] .rf-theme-studio-preview {
    background-image:
      radial-gradient(circle at 8% 0%, rgb(255 255 255 / 24%), transparent 36%),
      radial-gradient(circle at 100% 100%, rgb(0 0 0 / 26%), transparent 42%),
      radial-gradient(circle at 62% 40%, rgb(255 255 255 / 9%), transparent 36%),
      linear-gradient(145deg, var(--pf-bg-1), var(--pf-bg-2));
  }

  .rf-app-shell > *,
  .rf-builder-workspace > *,
  .rf-theme-studio-preview > * {
    position: relative;
    z-index: 1;
  }
}
